{"version":3,"sources":["../../../../src/lib/annotation/LabelAnnotation.js"],"names":["React","Component","PropTypes","functor","LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","fontWeight","opacity","rotate","xAccessor","helper","xPos","yPos","fill","text","tooltip","x","y","plotData","xFunc","yFunc","propTypes","string","number","func","object","oneOfType","defaultProps"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,UAAxB;;IAEMC,e;;;AACL,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACZA,KADY;;AAElB,QAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,OAAnB;AAFkB;AAGlB;;;;8BACWC,C,EAAG;AAAA,OACNC,OADM,GACM,KAAKJ,KADX,CACNI,OADM;;;AAGd,OAAIA,OAAJ,EAAa;AAAA,iBACsB,KAAKJ,KAD3B;AAAA,QACJK,MADI,UACJA,MADI;AAAA,QACIC,MADJ,UACIA,MADJ;AAAA,QACYC,KADZ,UACYA,KADZ;;AAEZH,YAAQ,EAAEC,cAAF,EAAUC,cAAV,EAAkBC,YAAlB,EAAR,EAAmCJ,CAAnC;AACA;AACD;;;2BACQ;AAAA,iBASJ,KAAKH,KATD;AAAA,OAEPQ,SAFO,WAEPA,SAFO;AAAA,OAGPC,UAHO,WAGPA,UAHO;AAAA,OAIPC,UAJO,WAIPA,UAJO;AAAA,OAKPC,QALO,WAKPA,QALO;AAAA,OAMPC,UANO,WAMPA,UANO;AAAA,OAOPC,OAPO,WAOPA,OAPO;AAAA,OAQPC,MARO,WAQPA,MARO;AAAA,iBAU8B,KAAKd,KAVnC;AAAA,OAUAe,SAVA,WAUAA,SAVA;AAAA,OAUWV,MAVX,WAUWA,MAVX;AAAA,OAUmBC,MAVnB,WAUmBA,MAVnB;;AAAA,iBAYoCU,OAAO,KAAKhB,KAAZ,EAAmBe,SAAnB,EAA8BV,MAA9B,EAAsCC,MAAtC,CAZpC;AAAA,OAYAW,IAZA,WAYAA,IAZA;AAAA,OAYMC,IAZN,WAYMA,IAZN;AAAA,OAYYC,IAZZ,WAYYA,IAZZ;AAAA,OAYkBC,IAZlB,WAYkBA,IAZlB;AAAA,OAYwBC,OAZxB,WAYwBA,OAZxB;;AAcR,UACC;AAAA;AAAA,MAAG,WAAWb,SAAd;AACC;AAAA;AAAA;AAAQa;AAAR,KADD;AAEC;AAAA;AAAA;AACC,SAAGJ,IADJ;AAEC,SAAGC,IAFJ;AAGC,kBAAYR,UAHb;AAIC,gBAAUC,QAJX;AAKC,kBAAYC,UALb;AAMC,YAAMO,IANP;AAOC,eAASN,OAPV;AAQC,6BAAqBC,MAArB,UAAgCG,IAAhC,UAAyCC,IAAzC,MARD;AASC,eAAS,KAAKjB,WATf;AAUC,kBAAYQ;AAVb;AAYEW;AAZF;AAFD,IADD;AAmBA;;;;EA9C4BxB,S;;AAiD9B,OAAO,SAASoB,MAAT,CAAgBhB,KAAhB,EAAuBe,SAAvB,EAAkCV,MAAlC,EAA0CC,MAA1C,EAAkD;AAAA,KAChDgB,CADgD,GACDtB,KADC,CAChDsB,CADgD;AAAA,KAC7CC,CAD6C,GACDvB,KADC,CAC7CuB,CAD6C;AAAA,KAC1ChB,KAD0C,GACDP,KADC,CAC1CO,KAD0C;AAAA,KACnCY,IADmC,GACDnB,KADC,CACnCmB,IADmC;AAAA,KAC7BC,IAD6B,GACDpB,KADC,CAC7BoB,IAD6B;AAAA,KACvBC,OADuB,GACDrB,KADC,CACvBqB,OADuB;AAAA,KACdG,QADc,GACDxB,KADC,CACdwB,QADc;;;AAGxD,KAAMC,QAAQ3B,QAAQwB,CAAR,CAAd;AACA,KAAMI,QAAQ5B,QAAQyB,CAAR,CAAd;;AAJwD,YAMnC,CACpBE,MAAM,EAAEpB,cAAF,EAAUU,oBAAV,EAAqBR,YAArB,EAA4BiB,kBAA5B,EAAN,CADoB,EAEpBE,MAAM,EAAEpB,cAAF,EAAUC,YAAV,EAAiBiB,kBAAjB,EAAN,CAFoB,CANmC;AAAA,KAMjDP,IANiD;AAAA,KAM3CC,IAN2C;;;AAWxD,QAAO;AACND,YADM;AAENC,YAFM;AAGNE,QAAMtB,QAAQsB,IAAR,EAAcb,KAAd,CAHA;AAINY,QAAMrB,QAAQqB,IAAR,EAAcZ,KAAd,CAJA;AAKNc,WAASvB,QAAQuB,OAAR,EAAiBd,KAAjB;AALH,EAAP;AAOA;;AAEDR,gBAAgB4B,SAAhB,GAA4B;AAC3BnB,YAAWX,UAAU+B,MADM;AAE3BR,OAAMvB,UAAU+B,MAFW;AAG3BnB,aAAYZ,UAAU+B,MAHK;AAI3BlB,aAAYb,UAAU+B,MAJK;AAK3BjB,WAAUd,UAAUgC,MALO;AAM3BhB,UAAShB,UAAUgC,MANQ;AAO3Bf,SAAQjB,UAAUgC,MAPS;AAQ3BzB,UAASP,UAAUiC,IARQ;AAS3Bf,YAAWlB,UAAUiC,IATM;AAU3BzB,SAAQR,UAAUiC,IAVS;AAW3BxB,SAAQT,UAAUiC,IAXS;AAY3BvB,QAAOV,UAAUkC,MAZU;AAa3BT,IAAGzB,UAAUmC,SAAV,CAAoB,CAACnC,UAAUgC,MAAX,EAAmBhC,UAAUiC,IAA7B,CAApB,CAbwB;AAc3BP,IAAG1B,UAAUmC,SAAV,CAAoB,CAACnC,UAAUgC,MAAX,EAAmBhC,UAAUiC,IAA7B,CAApB;AAdwB,CAA5B;;AAiBA,OAAO,IAAMG,eAAe;AAC3BxB,aAAY,QADe;AAE3BC,aAAY,8CAFe;AAG3BC,WAAU,EAHiB;AAI3BQ,OAAM,SAJqB;AAK3BN,UAAS,CALkB;AAM3BC,SAAQ,CANmB;AAO3BQ,IAAG;AAAA,MAAGjB,MAAH,SAAGA,MAAH;AAAA,MAAWU,SAAX,SAAWA,SAAX;AAAA,MAAsBR,KAAtB,SAAsBA,KAAtB;AAAA,SAAkCF,OAAOU,UAAUR,KAAV,CAAP,CAAlC;AAAA;AAPwB,CAArB;;AAUPR,gBAAgBkC,YAAhB,gBACIA,YADJ;AAECzB,YAAW;AAFZ;;AAKA,eAAeT,eAAf","file":"LabelAnnotation.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { functor } from \"../utils\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tconst { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tconst { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\ttextAnchor,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tfontWeight,\n\t\t\topacity,\n\t\t\trotate,\n\t\t} = this.props;\n\t\tconst { xAccessor, xScale, yScale } = this.props;\n\n\t\tconst { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<title>{tooltip}</title>\n\t\t\t\t<text\n\t\t\t\t\tx={xPos}\n\t\t\t\t\ty={yPos}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttextAnchor={textAnchor}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</text>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tconst { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tconst xFunc = functor(x);\n\tconst yFunc = functor(y);\n\n\tconst [xPos, yPos] = [\n\t\txFunc({ xScale, xAccessor, datum, plotData }),\n\t\tyFunc({ yScale, datum, plotData }),\n\t];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: functor(text)(datum),\n\t\tfill: functor(fill)(datum),\n\t\ttooltip: functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.string,\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n\ty: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n"]}