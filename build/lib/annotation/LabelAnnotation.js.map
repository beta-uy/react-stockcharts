{"version":3,"sources":["../../../src/lib/annotation/LabelAnnotation.js"],"names":["helper","LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","fontWeight","opacity","rotate","xAccessor","xPos","yPos","fill","text","tooltip","Component","x","y","plotData","xFunc","yFunc","propTypes","PropTypes","string","number","func","object","oneOfType","defaultProps"],"mappings":"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","file":"LabelAnnotation.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { functor } from \"../utils\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tconst { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tconst { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\ttextAnchor,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tfontWeight,\n\t\t\topacity,\n\t\t\trotate,\n\t\t} = this.props;\n\t\tconst { xAccessor, xScale, yScale } = this.props;\n\n\t\tconst { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<title>{tooltip}</title>\n\t\t\t\t<text\n\t\t\t\t\tx={xPos}\n\t\t\t\t\ty={yPos}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttextAnchor={textAnchor}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</text>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tconst { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tconst xFunc = functor(x);\n\tconst yFunc = functor(y);\n\n\tconst [xPos, yPos] = [\n\t\txFunc({ xScale, xAccessor, datum, plotData }),\n\t\tyFunc({ yScale, datum, plotData }),\n\t];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: functor(text)(datum),\n\t\tfill: functor(fill)(datum),\n\t\ttooltip: functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.string,\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n\ty: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n"]}